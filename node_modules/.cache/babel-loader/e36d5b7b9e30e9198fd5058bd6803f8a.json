{"ast":null,"code":"import _slicedToArray from\"C:/Users/rajes/Desktop/React/Shopping/e-commerce/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import React,{useState,useEffect}from'react';import{useDispatch}from'react-redux';import{useParams,useNavigate}from'react-router-dom';import FetchApi from'../../fetchApi/FetchApi';import{addProductToCart}from'../../../features/cartSlice';import{Box,Rating}from'@mui/material';import ProductList from'../../ProductList';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";var ProductPage=function ProductPage(){var params=useParams();var id=params.product;var _useState=useState(false),_useState2=_slicedToArray(_useState,2),gotocart=_useState2[0],setGotocart=_useState2[1];var _useState3=useState(),_useState4=_slicedToArray(_useState3,2),imgSrc=_useState4[0],setImgSrc=_useState4[1];var _useState5=useState(null),_useState6=_slicedToArray(_useState5,2),product=_useState6[0],setProduct=_useState6[1];useEffect(function(){FetchApi(\"https://63578faac26aac906f2cbf30.mockapi.io/products/\".concat(id),'GET').then(function(response){setProduct(response);setImgSrc(response.productImages[0]);});},[id]);var dispatch=useDispatch();var navigate=useNavigate();var buyNow=function buyNow(){alert('Product Added to cart. You will be redirected to checkout page');dispatch(addProductToCart(product));navigate('/cart');};if(!product)return'loading';var productName=product.productName,productVersion=product.productVersion,stock=product.stock,productDescription=product.productDescription,productPrice=product.productPrice,productImages=product.productImages,rating=product.rating;return/*#__PURE__*/_jsxs(\"div\",{className:\"container-fluid mt-3\",children:[/*#__PURE__*/_jsxs(Box,{className:\" container-fluid d-flex flex-column flex-lg-row\",children:[/*#__PURE__*/_jsxs(Box,{className:\"d-flex container-fluid  flex-column flex-xl-row \",children:[/*#__PURE__*/_jsx(Box,{className:\"d-flex me-3 gap-2  flex-row flex-xl-column my-3 \",children:productImages.map(function(src,index){return/*#__PURE__*/_jsx(Box,{width:'100px',height:'100px',className:\" shadow  \",onClick:function onClick(){return setImgSrc(src);},children:/*#__PURE__*/_jsx(\"img\",{src:src,alt:\"product\",className:\"rounded-3 \",width:'100%',height:'100%'})},index);})}),/*#__PURE__*/_jsx(\"div\",{className:\" container-fluid shadow rounded-3 \",children:/*#__PURE__*/_jsx(\"img\",{className:\"rounded-5  \",src:imgSrc,alt:\"product\",height:'100%',width:'100%'})})]}),/*#__PURE__*/_jsx(\"div\",{className:\"container-fluid product-details d-flex flex-column justify-content-between shadow p-2 rounded-3 \",style:{minWidth:'auto',minHeight:'auto'},children:/*#__PURE__*/_jsxs(\"div\",{className:\"product-title\",children:[/*#__PURE__*/_jsx(\"h2\",{className:\"text-start\",children:productName}),/*#__PURE__*/_jsx(\"h6\",{className:\"\",children:productVersion}),stock>0?/*#__PURE__*/_jsxs(\"h5\",{className:\"text-end text-dark\",children:[\"Instock : \",/*#__PURE__*/_jsx(\"span\",{className:\"text-primary\",children:stock}),\"  left \"]}):/*#__PURE__*/_jsx(\"h3\",{className:\"text-end text-danger\",children:\"Out of Stock\"}),/*#__PURE__*/_jsx(\"h3\",{className:\"text-center\",children:\"\".concat(productPrice,\"/- Rs\")}),/*#__PURE__*/_jsxs(Box,{className:\"\",width:'auto',display:\"flex\",justifyContent:'start',children:[/*#__PURE__*/_jsx(Rating,{readOnly:true,value:rating,precision:\"0.1\"}),\" \",/*#__PURE__*/_jsxs(\"h6\",{children:[/*#__PURE__*/_jsx(\"span\",{style:{background:'#388E3C',color:'white',borderRadius:'5px',paddingLeft:'5px',paddingRight:'5px'},children:rating}),\"  \"]}),\" \"]}),/*#__PURE__*/_jsxs(\"div\",{className:\"d-flex justify-content-center\",children:[/*#__PURE__*/_jsx(\"button\",{className:\" fa fa-shopping-bag btn btn-outline-danger  px-3 m-2 rounded-5 font-weight-bold \",style:{fontSize:'1.3rem'},onClick:function onClick(){return buyNow();},children:\" Buy Now\"}),!gotocart?/*#__PURE__*/_jsx(\"button\",{className:\" fa fa-bold fa-cart-plus btn btn-outline-warning  px-3 m-2 rounded-5   \",style:{fontSize:'1.3rem'},onClick:function onClick(){dispatch(addProductToCart(product));setGotocart(true);},children:\" Add to cart\"}):null,gotocart?/*#__PURE__*/_jsx(\"button\",{className:\" fa fa-bold fa-cart-plus btn btn-outline-success  px-3 m-2 rounded-5 \",style:{fontSize:'1.3rem'},onClick:function onClick(){return navigate('/cart');},children:\" Go to Cart \"}):null]}),/*#__PURE__*/_jsx(Box,{className:\"container-fluid\",textAlign:'center',children:/*#__PURE__*/_jsx(\"p\",{children:productDescription})})]})})]}),/*#__PURE__*/_jsx(ProductList,{})]});};export default ProductPage;","map":{"version":3,"names":["React","useState","useEffect","useDispatch","useParams","useNavigate","FetchApi","addProductToCart","Box","Rating","ProductList","ProductPage","params","id","product","gotocart","setGotocart","imgSrc","setImgSrc","setProduct","then","response","productImages","dispatch","navigate","buyNow","alert","productName","productVersion","stock","productDescription","productPrice","rating","map","src","index","minWidth","minHeight","background","color","borderRadius","paddingLeft","paddingRight","fontSize"],"sources":["C:/Users/rajes/Desktop/React/Shopping/e-commerce/src/components/pages/productPage/ProductPage.js"],"sourcesContent":["import React, {useState,useEffect} from 'react'\r\n\r\nimport { useDispatch } from 'react-redux'\r\nimport { useParams, useNavigate } from 'react-router-dom'\r\nimport FetchApi from '../../fetchApi/FetchApi'\r\n\r\nimport { addProductToCart } from '../../../features/cartSlice'\r\nimport { Box, Rating } from '@mui/material'\r\nimport ProductList from '../../ProductList'\r\n\r\n\r\nconst ProductPage = () => {\r\n    const params = useParams()\r\n    const id = params.product\r\n    const [gotocart, setGotocart] = useState(false)\r\n    const [imgSrc, setImgSrc] = useState()\r\n   const [product, setProduct] = useState(null)\r\n    useEffect(() => {\r\n  FetchApi(`https://63578faac26aac906f2cbf30.mockapi.io/products/${id}` , 'GET')\r\n  .then(response => { \r\n    setProduct(response) \r\n    setImgSrc(response.productImages[0])\r\n  } )\r\n    },[id])\r\n   const dispatch = useDispatch()\r\n    const navigate =  useNavigate()\r\n   const  buyNow = () => {\r\n        alert('Product Added to cart. You will be redirected to checkout page')\r\n        dispatch(addProductToCart(product))\r\n        navigate('/cart')\r\n\r\n   }\r\n   \r\n\r\nif(!product) return 'loading'\r\n const {productName, productVersion, stock, productDescription, productPrice, productImages, rating} = product\r\n \r\n \r\n  return (\r\n    <div className='container-fluid mt-3'>\r\n \r\n       <Box className=' container-fluid d-flex flex-column flex-lg-row' >\r\n            <Box className='d-flex container-fluid  flex-column flex-xl-row '  >\r\n               <Box   className='d-flex me-3 gap-2  flex-row flex-xl-column my-3 '>\r\n                 {productImages.map((src, index) => <Box key={index} width={'100px'} height={'100px'} className=' shadow  ' onClick={() => setImgSrc(src)} >  \r\n                 <img src={src} alt='product' className='rounded-3 ' width={'100%'} height={'100%'} />\r\n                 </Box> )}\r\n               \r\n               \r\n\r\n               </Box>\r\n               <div className=' container-fluid shadow rounded-3 '>\r\n               <img className='rounded-5  ' src={imgSrc} alt='product' height={'100%'} width={'100%'}/>\r\n               </div>\r\n            </Box>\r\n             <div className='container-fluid product-details d-flex flex-column justify-content-between shadow p-2 rounded-3 ' style={{minWidth:'auto', minHeight:'auto'}}> \r\n                    <div className='product-title'> \r\n                      <h2 className='text-start'>{productName}</h2>\r\n                      <h6 className=''>{productVersion}</h6>\r\n                      {stock>0 ? <h5 className='text-end text-dark'>Instock : <span className='text-primary'>{stock}</span>  left </h5> : <h3 className='text-end text-danger'>Out of Stock</h3> }\r\n                      <h3 className='text-center'>{`${productPrice}/- Rs`}</h3>\r\n                      <Box className='' width={'auto'} display='flex' justifyContent={'start'} ><Rating readOnly value={rating} precision='0.1'/> <h6><span style={{background:'#388E3C', color:'white', borderRadius:'5px', paddingLeft:'5px', paddingRight:'5px'}} >{rating}</span>  </h6> </Box>\r\n                      \r\n                <div className='d-flex justify-content-center'>\r\n                   <button className=' fa fa-shopping-bag btn btn-outline-danger  px-3 m-2 rounded-5 font-weight-bold ' style={{fontSize:'1.3rem'}} onClick={() => buyNow()}> Buy Now</button> \r\n                      \r\n               { !gotocart ?   <button className=' fa fa-bold fa-cart-plus btn btn-outline-warning  px-3 m-2 rounded-5   ' style={{fontSize:'1.3rem'}}\r\n                onClick={() => {\r\n               dispatch(addProductToCart(product)) \r\n                setGotocart(true)\r\n                }}> Add to cart</button> : null} \r\n                { gotocart ?    <button className=' fa fa-bold fa-cart-plus btn btn-outline-success  px-3 m-2 rounded-5 ' style={{fontSize:'1.3rem'}} onClick={() => navigate('/cart')}> Go to Cart </button> : null} \r\n                    \r\n                  </div> \r\n                  <Box className='container-fluid' textAlign={'center'} >\r\n                      <p>{productDescription}</p>\r\n                      </Box>\r\n                     </div>\r\n                    \r\n             </div>\r\n       </Box>\r\n\r\n        <ProductList/>\r\n    </div>\r\n  )\r\n}\r\n\r\nexport default ProductPage"],"mappings":"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"},"metadata":{},"sourceType":"module"}