{"ast":null,"code":"import _slicedToArray from\"C:/Users/rajes/Desktop/React/Shopping/e-commerce/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import React,{useState,useEffect}from'react';import'./productpage.css';import{useDispatch}from'react-redux';import{useParams,useNavigate}from'react-router-dom';import FetchApi from'../../fetchApi/FetchApi';import{addProductToCart}from'../../../features/cartSlice';import{Box,Rating}from'@mui/material';import ProductList from'../../ProductList';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";var ProductPage=function ProductPage(){var params=useParams();var id=params.product;var _useState=useState(false),_useState2=_slicedToArray(_useState,2),gotocart=_useState2[0],setGotocart=_useState2[1];var _useState3=useState(),_useState4=_slicedToArray(_useState3,2),imgSrc=_useState4[0],setImgSrc=_useState4[1];var _useState5=useState(null),_useState6=_slicedToArray(_useState5,2),product=_useState6[0],setProduct=_useState6[1];useEffect(function(){FetchApi(\"https://63578faac26aac906f2cbf30.mockapi.io/products/\".concat(id),'GET').then(function(response){setProduct(response);setImgSrc(response.productImages[0]);});},[id]);var dispatch=useDispatch();var navigate=useNavigate();var buyNow=function buyNow(){alert('Product Added to cart. You will be redirected to checkout page');dispatch(addProductToCart(product));navigate('/cart');};if(!product)return'loading';var productName=product.productName,productVersion=product.productVersion,stock=product.stock,productDescription=product.productDescription,productPrice=product.productPrice,productImages=product.productImages,rating=product.rating;return/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsxs(Box,{className:\"d-flex  flex-xs-column flex-sm-column flex-md-row flex-lg-row flex-xl-row  justify-content-center   text-dark  pt-5 w-100 mb-5  product-page-box \",alignItems:{xs:'center',sm:'center',md:'flex-start',lg:'flex-start'},flexDirection:{xs:'column'},gap:{xs:2,sm:2,md:7,lg:10},style:{minHeight:'auto'},children:[/*#__PURE__*/_jsxs(Box,{className:\"d-flex  flex-lg-row flex-md-row flex-sm-column flex-xs-column text-dark gap-3  \",flexDirection:{xs:'column'},children:[/*#__PURE__*/_jsx(Box,{flexDirection:{xs:'row',sm:'column',md:'column'},width:{xs:'100%',sm:'auto'},className:\"d-flex  gap-2 slide-images  \",children:productImages.map(function(src,index){return/*#__PURE__*/_jsx(Box,{className:\"mini-image w-auto shadow \",onClick:function onClick(){return setImgSrc(src);},children:/*#__PURE__*/_jsx(\"img\",{src:src,alt:\"product\",className:\"rounded-3\",width:\"100px\",height:\"100px\"})},index);})}),/*#__PURE__*/_jsx(\"div\",{className:\"main-image  shadow rounded-3 \",children:/*#__PURE__*/_jsx(\"img\",{className:\"rounded\",src:imgSrc,alt:\"product\",width:\"100%\",height:\"100%\"})})]}),/*#__PURE__*/_jsx(\"div\",{className:\"product-details d-flex flex-column justify-content-between shadow p-2 rounded-3 \",style:{minWidth:'auto',minHeight:'auto'},children:/*#__PURE__*/_jsxs(\"div\",{className:\"product-title\",children:[/*#__PURE__*/_jsx(\"h2\",{className:\"text-start\",children:productName}),/*#__PURE__*/_jsx(\"h6\",{className:\"\",children:productVersion}),stock>0?/*#__PURE__*/_jsxs(\"h5\",{className:\"text-end text-dark\",children:[\"Instock : \",/*#__PURE__*/_jsx(\"span\",{className:\"text-primary\",children:stock}),\"  left \"]}):/*#__PURE__*/_jsx(\"h3\",{className:\"text-end text-danger\",children:\"Out of Stock\"}),/*#__PURE__*/_jsx(\"h3\",{className:\"text-center\",children:\"\".concat(productPrice,\"/- Rs\")}),/*#__PURE__*/_jsxs(Box,{width:'auto',display:\"flex\",justifyContent:'start',children:[/*#__PURE__*/_jsx(Rating,{readOnly:true,value:rating,precision:\"0.5\"}),\" \",/*#__PURE__*/_jsxs(\"h6\",{children:[/*#__PURE__*/_jsx(\"span\",{style:{background:'#388E3C',color:'white',borderRadius:'5px',paddingLeft:'5px',paddingRight:'5px'},children:rating}),\"  \"]}),\" \"]}),/*#__PURE__*/_jsxs(\"div\",{className:\"d-flex justify-content-center\",children:[/*#__PURE__*/_jsx(\"button\",{className:\"fa fa-shopping-bag btn btn-outline-danger btn-lg px-3 m-2 rounded-5 font-weight-bold \",style:{fontSize:'1.3rem'},onClick:function onClick(){return buyNow();},children:\" Buy Now\"}),!gotocart?/*#__PURE__*/_jsx(\"button\",{className:\" fa fa-bold fa-cart-plus btn btn-outline-warning btn-lg px-3 m-2 rounded-5   \",style:{fontSize:'1.3rem'},onClick:function onClick(){dispatch(addProductToCart(product));setGotocart(true);},children:\" Add to cart\"}):null,gotocart?/*#__PURE__*/_jsx(\"button\",{className:\" fa fa-bold fa-cart-plus btn btn-outline-success btn-lg px-3 m-2 rounded-5 \",style:{fontSize:'1.3rem'},onClick:function onClick(){return navigate('/cart');},children:\" Go to Cart \"}):null]}),/*#__PURE__*/_jsx(Box,{textAlign:'center',children:/*#__PURE__*/_jsx(\"p\",{children:productDescription})})]})})]}),/*#__PURE__*/_jsx(ProductList,{})]});};export default ProductPage;","map":{"version":3,"names":["React","useState","useEffect","useDispatch","useParams","useNavigate","FetchApi","addProductToCart","Box","Rating","ProductList","ProductPage","params","id","product","gotocart","setGotocart","imgSrc","setImgSrc","setProduct","then","response","productImages","dispatch","navigate","buyNow","alert","productName","productVersion","stock","productDescription","productPrice","rating","xs","sm","md","lg","minHeight","map","src","index","minWidth","background","color","borderRadius","paddingLeft","paddingRight","fontSize"],"sources":["C:/Users/rajes/Desktop/React/Shopping/e-commerce/src/components/pages/productPage/ProductPage.js"],"sourcesContent":["import React, {useState,useEffect} from 'react'\r\nimport './productpage.css'\r\nimport { useDispatch } from 'react-redux'\r\nimport { useParams, useNavigate } from 'react-router-dom'\r\nimport FetchApi from '../../fetchApi/FetchApi'\r\n\r\nimport { addProductToCart } from '../../../features/cartSlice'\r\nimport { Box, Rating } from '@mui/material'\r\nimport ProductList from '../../ProductList'\r\n\r\n\r\nconst ProductPage = () => {\r\n    const params = useParams()\r\n    const id = params.product\r\n    const [gotocart, setGotocart] = useState(false)\r\n    const [imgSrc, setImgSrc] = useState()\r\n   const [product, setProduct] = useState(null)\r\n    useEffect(() => {\r\n  FetchApi(`https://63578faac26aac906f2cbf30.mockapi.io/products/${id}` , 'GET')\r\n  .then(response => { \r\n    setProduct(response) \r\n    setImgSrc(response.productImages[0])\r\n  } )\r\n    },[id])\r\n   const dispatch = useDispatch()\r\n    const navigate =  useNavigate()\r\n   const  buyNow = () => {\r\n        alert('Product Added to cart. You will be redirected to checkout page')\r\n        dispatch(addProductToCart(product))\r\n        navigate('/cart')\r\n\r\n   }\r\n   \r\n\r\nif(!product) return 'loading'\r\n const {productName, productVersion, stock, productDescription, productPrice, productImages, rating} = product\r\n \r\n \r\n  return (\r\n    <div>\r\n \r\n       <Box className='d-flex  flex-xs-column flex-sm-column flex-md-row flex-lg-row flex-xl-row  justify-content-center   text-dark  pt-5 w-100 mb-5  product-page-box ' alignItems={{xs:'center', sm:'center', md:'flex-start', lg:'flex-start'}} flexDirection={{xs:'column'}} gap={{xs:2, sm:2, md:7, lg:10}} style={{minHeight:'auto'}} >\r\n            <Box className='d-flex  flex-lg-row flex-md-row flex-sm-column flex-xs-column text-dark gap-3  ' flexDirection={{xs:'column'}} >\r\n               <Box  flexDirection={{xs:'row', sm:'column', md:'column'}} width={{xs:'100%', sm:'auto',}} className='d-flex  gap-2 slide-images  '>\r\n                 {productImages.map((src, index) => <Box key={index}  className='mini-image w-auto shadow ' onClick={() => setImgSrc(src)} >  \r\n                 <img src={src} alt='product' className='rounded-3' width='100px' height='100px'/>\r\n                 </Box> )}\r\n               \r\n               \r\n\r\n               </Box>\r\n               <div className='main-image  shadow rounded-3 '>\r\n               <img className='rounded' src={imgSrc} alt='product' width='100%' height='100%'/>\r\n               </div>\r\n            </Box>\r\n             <div className='product-details d-flex flex-column justify-content-between shadow p-2 rounded-3 ' style={{minWidth:'auto', minHeight:'auto'}}> \r\n                    <div className='product-title'> \r\n                      <h2 className='text-start'>{productName}</h2>\r\n                      <h6 className=''>{productVersion}</h6>\r\n                      {stock>0 ? <h5 className='text-end text-dark'>Instock : <span className='text-primary'>{stock}</span>  left </h5> : <h3 className='text-end text-danger'>Out of Stock</h3> }\r\n                      <h3 className='text-center'>{`${productPrice}/- Rs`}</h3>\r\n                      <Box width={'auto'} display='flex' justifyContent={'start'} ><Rating readOnly value={rating} precision='0.5'/> <h6><span style={{background:'#388E3C', color:'white', borderRadius:'5px', paddingLeft:'5px', paddingRight:'5px'}} >{rating}</span>  </h6> </Box>\r\n                      \r\n                <div className='d-flex justify-content-center'>\r\n                   <button className='fa fa-shopping-bag btn btn-outline-danger btn-lg px-3 m-2 rounded-5 font-weight-bold ' style={{fontSize:'1.3rem'}} onClick={() => buyNow()}> Buy Now</button> \r\n                      \r\n               { !gotocart ?   <button className=' fa fa-bold fa-cart-plus btn btn-outline-warning btn-lg px-3 m-2 rounded-5   ' style={{fontSize:'1.3rem'}}\r\n                onClick={() => {\r\n               dispatch(addProductToCart(product)) \r\n                setGotocart(true)\r\n                }}> Add to cart</button> : null} \r\n                { gotocart ?    <button className=' fa fa-bold fa-cart-plus btn btn-outline-success btn-lg px-3 m-2 rounded-5 ' style={{fontSize:'1.3rem'}} onClick={() => navigate('/cart')}> Go to Cart </button> : null} \r\n                    \r\n                  </div> \r\n                  <Box textAlign={'center'} >\r\n                      <p>{productDescription}</p>\r\n                      </Box>\r\n                     </div>\r\n                    \r\n             </div>\r\n       </Box>\r\n\r\n        <ProductList/>\r\n    </div>\r\n  )\r\n}\r\n\r\nexport default ProductPage"],"mappings":"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"},"metadata":{},"sourceType":"module"}