{"ast":null,"code":"import _objectSpread from\"C:/Users/rajes/Desktop/React/Shopping/e-commerce/node_modules/@babel/runtime/helpers/esm/objectSpread2.js\";import _slicedToArray from\"C:/Users/rajes/Desktop/React/Shopping/e-commerce/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import React from'react';import{useState,useEffect}from'react';import'./login.css';import FetchApi from'../fetchApi/FetchApi';import{useNavigate}from'react-router-dom';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";import{Fragment as _Fragment}from\"react/jsx-runtime\";var Login=function Login(){var _useState=useState({email:'',password:''}),_useState2=_slicedToArray(_useState,2),details=_useState2[0],setDetails=_useState2[1];var navigate=useNavigate();var name=localStorage.getItem('accName');var email=localStorage.getItem('accEmail');useEffect(function(){if(name&&email){navigate('/');}});var handleChange=function handleChange(_ref){var _ref$target=_ref.target,name=_ref$target.name,value=_ref$target.value;var updatedDetails=_objectSpread({},details);updatedDetails[name]=value;setDetails(updatedDetails);};var handleSubmit=function handleSubmit(e){e.preventDefault();console.log(details);FetchApi('https://63578faac26aac906f2cbf30.mockapi.io/users','GET').then(function(response){console.log('user details',response);var allUsers=response;var filterUser=allUsers.filter(function(user){return user.email===details.email&&user.password===details.password;});console.log(filterUser[0]);if(filterUser.length===1){alert('Login successful');localStorage.setItem('accName',filterUser[0].name);localStorage.setItem('accEmail',filterUser[0].email);window.location.reload();}else{alert('Please check your login details');}});};return/*#__PURE__*/_jsx(_Fragment,{children:/*#__PURE__*/_jsxs(\"div\",{className:\"  mt-5\",children:[/*#__PURE__*/_jsx(\"h1\",{className:\"text-center\",children:\"Login to your Account\"}),/*#__PURE__*/_jsxs(\"form\",{onSubmit:handleSubmit,style:{display:'flex',flexDirection:'column',justifyContent:'center',alignItems:'center'},children:[/*#__PURE__*/_jsx(InputElement,{type:\"email\",label:\"Email\",placeholder:\"Enter your e-mail\",id:\"email\",value:details.email,handleChange:handleChange}),/*#__PURE__*/_jsx(InputElement,{type:\"password\",label:\"Password\",placeholder:\"Enter your Password\",id:\"password\",vlaue:details.password,handleChange:handleChange}),/*#__PURE__*/_jsx(\"button\",{className:\"btn btn-outline-dark form-control sign-btn mt-3 rounded-5  \",type:\"submit\",children:\" Login\"})]})]})});};export default Login;function InputElement(_ref2){var label=_ref2.label,placeholder=_ref2.placeholder,id=_ref2.id,type=_ref2.type,value=_ref2.value,handleChange=_ref2.handleChange;return/*#__PURE__*/_jsxs(\"div\",{className:\"input-div\",children:[/*#__PURE__*/_jsx(\"label\",{className:\"label\",htmlFor:id,children:label}),/*#__PURE__*/_jsx(\"input\",{id:id,type:type,className:\" input-feild rounded-5 shadow-lg ps-3 pb-1 mt-3 \",placeholder:placeholder,name:id,value:value,onChange:handleChange})]});}","map":{"version":3,"names":["React","useState","useEffect","FetchApi","useNavigate","Login","email","password","details","setDetails","navigate","name","localStorage","getItem","handleChange","target","value","updatedDetails","handleSubmit","e","preventDefault","console","log","then","response","allUsers","filterUser","filter","user","length","alert","setItem","window","location","reload","display","flexDirection","justifyContent","alignItems","InputElement","label","placeholder","id","type"],"sources":["C:/Users/rajes/Desktop/React/Shopping/e-commerce/src/components/login/Login.js"],"sourcesContent":["import React from 'react'\r\nimport { useState, useEffect } from 'react'\r\nimport './login.css'\r\nimport FetchApi from '../fetchApi/FetchApi'\r\nimport { useNavigate } from 'react-router-dom'\r\n\r\nconst Login = () => {\r\n  \r\n  const [details, setDetails] = useState({\r\n    email:'',\r\n    password:''\r\n  })\r\n  \r\n  const navigate = useNavigate()\r\n  const name = localStorage.getItem('accName')\r\n  const email = localStorage.getItem('accEmail')\r\n\r\n  useEffect(()=>{\r\n    if(name && email) {\r\n      navigate('/')\r\n    }\r\n  })\r\n\r\n const handleChange =({target:{name,value}}) =>{\r\n\r\n   let updatedDetails = {...details} \r\n   updatedDetails[name] = value\r\n   setDetails(updatedDetails)\r\n }\r\n\r\n  const handleSubmit =(e)=>{\r\n  e.preventDefault()\r\n  console.log(details)\r\n  FetchApi('https://63578faac26aac906f2cbf30.mockapi.io/users', 'GET').then(response => {\r\n    console.log( 'user details', response) \r\n       let allUsers = response;\r\n       let  filterUser = allUsers.filter(user => user.email === details.email && user.password === details.password)\r\n       console.log(filterUser[0])\r\n       if(filterUser.length === 1){\r\n        alert('Login successful')\r\n        localStorage.setItem('accName',filterUser[0].name);\r\n        localStorage.setItem('accEmail',filterUser[0].email);\r\n        window.location.reload();\r\n       \r\n        \r\n       }else {\r\n        alert('Please check your login details')\r\n       }\r\n       \r\n  })\r\n   \r\n\r\n\r\n  }\r\n  return (<>\r\n              \r\n           <div className='  mt-5'>\r\n        <h1 className='text-center'>Login to your Account</h1>\r\n         <form onSubmit={handleSubmit} style={{display:'flex', flexDirection:'column', justifyContent:'center', alignItems:'center'}}>\r\n        <InputElement type='email' label='Email' placeholder='Enter your e-mail' id='email' value={details.email} handleChange={handleChange} /> \r\n        <InputElement type='password' label='Password' placeholder='Enter your Password' id='password' vlaue={details.password} handleChange={handleChange}/>\r\n         \r\n        <button className='btn btn-outline-dark form-control sign-btn mt-3 rounded-5  ' type='submit' > Login</button>\r\n        </form>\r\n        \r\n    </div>\r\n    \r\n                     \r\n  </>\r\n   \r\n  )\r\n}\r\n\r\nexport default Login\r\n\r\nfunction InputElement ({label, placeholder, id, type, value, handleChange}) {\r\n    return (\r\n      <div className='input-div'>\r\n      <label className='label' htmlFor={id} >{label}</label>\r\n      <input id={id} type={type} className=' input-feild rounded-5 shadow-lg ps-3 pb-1 mt-3 ' placeholder={placeholder} name={id} value={value} onChange={handleChange} />\r\n  </div>\r\n    )\r\n}"],"mappings":"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"},"metadata":{},"sourceType":"module"}